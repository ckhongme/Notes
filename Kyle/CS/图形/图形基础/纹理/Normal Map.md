法线贴图：作用是增加凹凸效果，存储的是[[法向量]]的方向；

### 作用
通过改变法线来改变面上某点的光照条件，让观察者感觉这个面有凹凸感；
在计算机世界中，感觉物体表面的凹凸，很大一部分取决于这个面的亮度；

### 法线贴图
是一张灰度图，默认黑色，越凸起的地方颜色越亮；
在不增加模型多边形数量的前提下，通过渲染暗部和亮部的不同颜色深度，来增加视觉细节和真实效果；

### 区间映射
法线贴图中用图片的RGB来表示方向的Vector3；
因此使用的时候需要进行区间映射；

##### 1. [[RGB]] 到 vector3
贴图中只能存储正数， 但向量有方向；
所以在法线贴图中，用0代表向量中的-1，用255代表向量中的1；
在计算法向量时，需要将其从区间（0,255）转化到区间（-1,1）；

##### 2.vector3 到 Shader
在shader中，贴图的颜色一般是（0,1）区间，所以在计算时要把采样得到的法线值进行映射，将其从（0,1）区间转化到（-1,1）区间；（乘2减1）

### 为什么 存储在切线空间？
以一个点所在面的法线方向N作为Z轴，该点的uv朝着下一个顶点uv的方向向量分别作为tangert和binormal轴，也就是x, y轴；
- 世界空间的法线贴图与世界的耦合过大，旋转方向不同的模型需要不同的法线贴图；
- 模型空间的法线贴图跟模型的耦合度还是比较高；

### 为什么是 紫蓝色？
大部分地方是平滑的，法线方向不变，对应切线方向的（0, 0,1)，经过映射，从（-1,1）区间变换成（0,1）区间，也就是（0.5, 0.5, 1)，再转成颜色的（0,255）区间，变成（127, 127, 255），对应就是紫蓝色；

凹凸部分的颜色就不是紫蓝色；
在shader进行处理时，我们将光照与该点的法线值进行点积后即可得到在该光线下应有的明暗特性；