ZWrite只处理深度值，ZTest决定采用谁的颜色值；

##### 什么是深度？
表示一个像素在空间中和观察者的距离；
在z轴正方向上，深度值越大表示距离观察者越远；

##### 什么是深度缓存区？
显存中的一块区域，存储着屏幕上每个像素点的深度信息；
***
### 深度测试 ZTest
决定是否将要渲染的物体的颜色值写入颜色缓存区的判定条件；（**通过深度测试，颜色值才会写入缓存区**）
开了ZTest，可以确保只有最近的面和对象会被绘制在场景中；

##### ZTest的规则
在绘制每个像素点前，把新的深度值与目前存储的深度值比较；
-   通过测试，会取代G-Buffer的颜色值；
-   没有通过测试，保留G-Buffer的颜色值，新的颜色值被舍弃；

##### 比较函数
比较的两个值：计算得到的该像素的值 和 当前深度缓冲区中的值；
默认是当片元的深度值小于等于当前深度缓冲区中的值时，通过测试；
清除深度缓冲后，缓冲区的值为1，越小的值越靠近相机；（值的范围是[0,1]）
可以高度配置：设置比较函数；
***
### 深度写入 ZWrite
将要渲染的物体的深度值写入深度缓冲区；
开启深度写入，只是为了**将深度值写入缓冲区；（前提是通过深度测试）**

##### ZWrite的规则
开启深度写入后，如果一个片元：
-   没有通过深度测试，就没有权利更改深度缓冲区中的值；
-   通过深度测试，才可以用这个片元的深度值覆盖掉缓冲区中原来的值；

##### ZWrite的应用
-   如果在绘制实体，请设置为 _On_；
-   如果在绘制半透明效果，请切换到 _Off_；（半透明效果需要关闭深度写入）

