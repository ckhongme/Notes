#计算机软件
对计算机来说，最简单的信号就是“通”和“断”，也就是0和1，也就是机器语言；
***
[[编译 Compile（源码-目标文件）]]
[[链接 Link（目标文件-可执行文件）]]
***
### 编译流程
-   **1.配置 configure**
    编译器在开始工作之前，需要知道当前的**系统环境**，比如标准库在哪里、软件的安装位置在哪里、需要安装哪些组件等等；
    通过指定编译参数，编译器就可以灵活适应环境，编译出各种环境都能运行的机器码；
    这些配置信息保存在一个叫做configure的脚本文件（配置文件）中；
    
-   **2.确定标准库和头文件的位置**
    编译器没办法自动检测标准库和头文件的位置，需要从配置文件中知道它们的位置
    
-   **3.确定依赖关系**
    编译器需要根据依赖关系确定编译的先后顺序；编译顺序保存在由configure脚本运行生成的 makefile 文件中；
    假如A依赖于B，则
    -   B编译完成后，才开始编译A
    -   但B改变时，要重新编译A
    确定依赖关系时，编译器会确定需要用到哪些头文件
    
-   **4.头文件的预编译 precompilation**（make命令的作用，是从4到7）
    源码会应用头文件，所以编译时，为了节省时间，会先编译头文件，保证头文件只编译一次，不会重复编译；
    
-   **5.预处理 preprocessing**
    替换掉源码中 bash 的头文件和宏，移除注释；
    
-   **6.编译 compilation**
    生成机械码，这种转码后的文件称为 对象文件 （object file）
    
-   **7.链接 linking**
	对象文件，需要进一步转成 可执行文件 才能运行；
	**连接**：就是把外部函数的代码（后缀名为.lib和.a的文件），添加到可执行文件中；
	**静态连接**：通过拷贝将外部函数库添加到可执行文件的方式；
	
-   **8.安装 installation**（make install命令的作用，是从8到9；）
    链接只是编译器在内存中生成了可执行文件；
    安装，就是将可执行文件保存到用户事先指定的安装目录；（包括设置权限等步骤）
    
-   **9.操作系统连接**
    安装后，通知操作系统让它知道可以使用这个程序了；
    
-   **10.生成安装包**
    将生成的可执行文件，做成可以分发的安装包；（以某种目录结构，保存成压缩文件包）

***

### 交叉编译
在某个平台上，编译另一种平台的可执行程序；
例如在 x86 平台上，编译 arm 平台的可执行程序；

**交叉编译比本地编译复杂很多**
因为主机与目标的体系架构、环境不同

**为什么不直接使用本地编译？**
比如在 arm 平台编译 arm 平台的可执行程序；
因为目标平台存储空间和计算能力通常是有限的，而编译过程需要较大的存储空间和较快的计算能力，但目标平台无法提供。

#### **交叉编译链**

用于解决主机与目标平台不同特性的工具构成的工具集；
例如：arm 平台的动态库，编译过程往往是在 x86 平台上进行，属于交叉编译，所以需要 **NDK**（Native Development Kit ）提供的交叉编译链，方便开发；

***

### 编译器
一般情况下所说的“编译器”就包括了“链接器”；
[[GCC（Unix-like系统的编译器）]]
[[MinGW（GCC在win的移植版）]]
