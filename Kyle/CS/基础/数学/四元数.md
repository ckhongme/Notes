### Quaternion
用来处理三维空间中的旋转变换；
**属性：** 相对于**自身坐标系**的旋转，自身为坐标系原点；
***
### 四元数的表示
四元数是复数，四元数的表示：
```
q = w + xi + yj + zk
```
其中w是实部，x，y，z是虚部，i，j，k是虚数单位；
[[四元数的数学本质]]
##### 和[[轴角表示]]的相互转换
对于旋转轴  (x,y,z) 和旋转角 θ的轴角表示
```
四元数 q = cos(θ/2) + sin(θ/2) * (x * i + y * j + z * k)
```
对于四元数 q = (w,x,y,z)
```
旋转轴为单位向量（x，y，z）
旋转角为 2*acos(w)
```
***
### 四元数之间的运算
两个四元数之间的乘法运算可以表示旋转的组合，加法运算可以表示旋转的插值，因此可以方便地进行复杂的旋转变换；
##### 乘法运算：表示旋转的组合
```
Q = Q1 * Q2  
```
表示Q是先做Q2的旋转，再做Q1的旋转；

**结合transform的运算**
常用于transform的自身旋转，实现绕自身坐标系的某个轴旋转；
```C#
//右乘：相当于transform在自身局部坐标系下新增Q旋转
transform.rotation = transform.rotation * Q； 

//左乘：相当于transform新增在世界坐标系下的Q旋转
transform.rotation = Q * transform.rotation;
```
##### 加法运算：表示旋转的插值
四元数可以方便地进行插值操作，从而实现平滑的旋转动画；
比如，可以在两个四元数之间进行线性插值来得到中间状态的旋转；                       

***
### 四元数和向量的运算
Quaternion * Vector3 表示对向量进行旋转；

将 向量V 转换到 对象transform 的自身坐标系中，从而得到物体局部坐标系中的向量V
```C#
transform.ratation * V
```
例如要获取物体的Forward向量
```C#
Vector3 V = new Vector3(0,0,1)；
Vector3 forward = transform.rotation * V；
```
***
相机控制：相机在三维场景中的移动和旋转通常都可以使用四元数来表示和计算，从而实现更加自然和直观的相机控制效果。
物体的旋转和变换：物体的旋转和变换也可以使用四元数来表示和计算，从而实现更加灵活和高效的计算方法
